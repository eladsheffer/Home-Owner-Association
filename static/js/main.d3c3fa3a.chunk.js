(this["webpackJsonphome-owner-association"]=this["webpackJsonphome-owner-association"]||[]).push([[0],{66:function(e){e.exports=JSON.parse('[{"id":1,"communityId":1,"title":"please throw garbage only in the trash can","details":"some tenants leave their garbage outside the trash can. please avoid this","priority":"info","createdAt":"2019-10-15","comments":[{"userId":1,"createdAt":"2019-10-16","text":"blablalbs"}]},{"id":2,"communityId":1,"title":"please don\'t forget to pay the monthly payment","details":"due to a raise in the elevator payment - the new payment for each tenant is 300 NIS","priority":"important","createdAt":"2019-10-16"},{"id":3,"communityId":2,"title":"meeting of the tenants on 1/1/20","details":"we would like to inform you about a meeting of all the tenants on 1/1/20","priority":"info","createdAt":"2019-10-17"}]')},67:function(e){e.exports=JSON.parse('[{"id":1,"communityId":1,"name":"Nir Channes","email":"nir@nir.com","password":"123","apartment":1,"isCommitteeMember":true},{"id":2,"communityId":1,"name":"Elad Sheffer","email":"elad@elad.com","password":"123","apartment":2,"isCommitteeMember":true},{"id":3,"communityId":1,"name":"John Doe","email":"john@john.com","password":"123","apartment":3,"isCommitteeMember":false},{"id":4,"communityId":2,"name":"Jane Doe","email":"jane@jane.com","password":"123","apartment":4,"isCommitteeMember":false}]')},68:function(e){e.exports=JSON.parse('[{"id":1,"address":"4 Bilaik St.","city":"Tel Aviv"},{"id":2,"address":"56 Moshe Dayan St.","city":"Ramat Gan"},{"id":3,"address":"5 Ben Gurion St.","city":"Hertzlia"}]')},69:function(e,t,a){e.exports=a(99)},75:function(e,t,a){},76:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(22),l=a.n(s),o=a(24),i=(a(74),a(75),a(6)),c=a(7),m=a(9),u=a(8),d=a(5),p=a(10),h=(a(76),a(28)),E=a(101),f=a(102),v=a(103),b=a(108),g=a(110),y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={redirectToHome:!1},a.logout=a.logout.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"logout",value:function(){this.props.handleLogout(),"#/"!==window.location.hash&&this.setState({redirectToHome:!0})}},{key:"render",value:function(){var e=this.props.activeUser;if(this.state.redirectToHome)return r.a.createElement(h.a,{to:"/"});var t=e?null:r.a.createElement(b.a.Link,{href:"#/signup"},"Signup"),a=e?null:r.a.createElement(b.a.Link,{href:"#/login"},"Login"),n=e?r.a.createElement(b.a.Link,{onClick:this.logout},"Logout"):null,s=e?r.a.createElement(b.a,{className:"mr-auto"},r.a.createElement(b.a.Link,{href:"#/dashboard"},"Dashboard"),r.a.createElement(b.a.Link,{href:"#/tenants"},"Tenants"),r.a.createElement(b.a.Link,{href:"#/messages"},"Messages"),r.a.createElement(b.a.Link,{href:"#/issues"},"Issues"),r.a.createElement(b.a.Link,{href:"#/voting"},"Voting")):null;return r.a.createElement(g.a,{bg:"light",expand:"lg"},r.a.createElement(g.a.Brand,{href:"#/"},"Hoa Systems"),r.a.createElement(g.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(g.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(b.a,{className:"mr-auto"},s),r.a.createElement(b.a,{className:"ml-auto"},t,a,n)))}}]),t}(r.a.Component),M=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.activeUser,a=e.handleLogout;return r.a.createElement("div",null,r.a.createElement(y,{activeUser:t,handleLogout:a}),r.a.createElement(E.a,{className:"center"},r.a.createElement(f.a,{className:"logo"},r.a.createElement("h2",{className:"logo"},"Home Owner Association"),r.a.createElement("p",null,"Communicate with your community"),r.a.createElement("p",null,r.a.createElement(v.a,{src:"RealStateJump.gif",className:"logo"})))))}}]),t}(r.a.Component),j=a(104),O=a(107),I=a(105),C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={invalidLogin:!1,successLogin:!1},a.emailInput=r.a.createRef(),a.passwordInput=r.a.createRef(),a.login=a.login.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"login",value:function(e){if(13===e.charCode||"button"===e.target.type){for(var t=this.props.users,a=null,n=0;n<t.length&&!a;n++)t[n].email===this.emailInput.current.value&&t[n].password===this.passwordInput.current.value&&(a=t[n]);a?(this.props.handleLogin(a),this.setState({successLogin:!0})):this.setState({invalidLogin:!0})}}},{key:"render",value:function(){return this.state.successLogin?r.a.createElement(h.a,{to:"/messages"}):r.a.createElement("div",{className:"login"},r.a.createElement("h1",null,"Login"),r.a.createElement("p",null,"or ",r.a.createElement("a",{href:"#/signup"},"create an account")),r.a.createElement(j.a,{variant:"danger",show:this.state.invalidLogin},"Invalid email or password!"),r.a.createElement(O.a,{onKeyPress:this.login},r.a.createElement(O.a.Group,{controlId:"formBasicEmail"},r.a.createElement(O.a.Label,null,"Email address"),r.a.createElement(O.a.Control,{ref:this.emailInput,type:"email",placeholder:"Enter email",defaultValue:"elad@elad.com"}),r.a.createElement(O.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),r.a.createElement(O.a.Group,{controlId:"formBasicPassword"},r.a.createElement(O.a.Label,null,"Password"),r.a.createElement(O.a.Control,{ref:this.passwordInput,type:"password",placeholder:"Password",defaultValue:"123"})),r.a.createElement(I.a,{variant:"success",type:"button",block:!0,onClick:this.login},"Login")))}}]),t}(r.a.Component),w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={successLogin:!1},a.nameInput=r.a.createRef(),a.emailInput=r.a.createRef(),a.passwordInput=r.a.createRef(),a.addressInput=r.a.createRef(),a.apartmentInput=r.a.createRef(),a.cityInput=r.a.createRef(),a.signup=a.signup.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"signup",value:function(){var e=this.props,t=(e.users,e.communities,{name:this.nameInput.current.value,email:this.emailInput.current.value,password:this.passwordInput.current.value,apartment:this.apartmentInput.current.value,isCommitteeMember:!0}),a={address:this.addressInput.current.value,city:this.cityInput.current.value};this.props.createCommitteeMember(a,t),this.props.handleLogin(t),this.setState({successLogin:!0})}},{key:"render",value:function(){return this.state.successLogin?r.a.createElement(h.a,{to:"/messages"}):r.a.createElement("div",{className:"login"},r.a.createElement("h1",null,"Create a Committee Member Account"),r.a.createElement(O.a,null,r.a.createElement(O.a.Group,{controlId:"name"},r.a.createElement(O.a.Label,null,"Name"),r.a.createElement(O.a.Control,{ref:this.nameInput,type:"text",placeholder:"Enter your name"})),r.a.createElement(O.a.Group,{controlId:"email"},r.a.createElement(O.a.Label,null,"Email address"),r.a.createElement(O.a.Control,{ref:this.emailInput,type:"email",placeholder:"Enter email"}),r.a.createElement(O.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),r.a.createElement(O.a.Group,{controlId:"password"},r.a.createElement(O.a.Label,null,"Password"),r.a.createElement(O.a.Control,{ref:this.passwordInput,type:"password",placeholder:"Password"})),r.a.createElement(O.a.Group,{controlId:"address"},r.a.createElement(O.a.Label,null,"Address"),r.a.createElement(O.a.Control,{ref:this.addressInput,type:"text",placeholder:"Enter address"})),r.a.createElement(O.a.Group,{controlId:"aparment"},r.a.createElement(O.a.Label,null,"Apartment"),r.a.createElement(O.a.Control,{ref:this.apartmentInput,type:"text",placeholder:"Enter apartment"})),r.a.createElement(O.a.Group,{controlId:"city"},r.a.createElement(O.a.Label,null,"City"),r.a.createElement(O.a.Control,{ref:this.cityInput,type:"text",placeholder:"Enter city"})),r.a.createElement(I.a,{variant:"success",type:"button",block:!0,onClick:this.signup},"Sign Up")))}}]),t}(r.a.Component),U=a(106),k=a(64),L=a(109),T=a(111),D=a(112),S=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(v.a,{src:"icons/important.png",rounded:!0})}}]),t}(r.a.Component),H=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(v.a,{src:"icons/info.png",rounded:!0})}}]),t}(r.a.Component),x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(I.a,{onClick:this.props.showDeleteModal,variant:"danger"},"Delete Message"),r.a.createElement(I.a,{onClick:this.props.showUpdateModal,variant:"primary"},"Update Message"))}}]),t}(r.a.Component),N=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={showUpdateModal:!1,showDeleteModal:!1},a.deleteMessage=a.deleteMessage.bind(Object(d.a)(a)),a.updateMessage=a.updateMessage.bind(Object(d.a)(a)),a.openUpdateModal=a.openUpdateModal.bind(Object(d.a)(a)),a.closeUpdateModal=a.closeUpdateModal.bind(Object(d.a)(a)),a.openDeleteModal=a.openDeleteModal.bind(Object(d.a)(a)),a.closeDeleteModal=a.closeDeleteModal.bind(Object(d.a)(a)),a.titleInput=r.a.createRef(),a.detailsInput=r.a.createRef(),a.infoInput=r.a.createRef(),a.importantInput=r.a.createRef(),a.imgInput=r.a.createRef(),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"deleteMessage",value:function(){this.props.deleteMessage(this.props.messageData,this.props.dataKey),this.closeDeleteModal()}},{key:"updateMessage",value:function(){this.props.messageData.title=this.titleInput.current.value,this.props.messageData.details=this.detailsInput.current.value,this.infoInput.current.checked?this.props.messageData.priority="info":this.props.messageData.priority="important",this.props.updateMessage(this.props.messageData,this.props.dataKey),this.closeUpdateModal()}},{key:"openUpdateModal",value:function(){this.setState({showUpdateModal:!0})}},{key:"closeUpdateModal",value:function(){this.setState({showUpdateModal:!1})}},{key:"openDeleteModal",value:function(){this.setState({showDeleteModal:!0})}},{key:"closeDeleteModal",value:function(){this.setState({showDeleteModal:!1})}},{key:"componentDidUpdate",value:function(){this.state.showUpdateModal&&("info"===this.props.messageData.priority?this.infoInput.current.checked=!0:this.importantInput.current.checked=!0)}},{key:"render",value:function(){var e=this.state.showUpdateModal,t=this.state.showDeleteModal,a=this.props.activeUser,n="info"===this.props.messageData.priority?r.a.createElement(H,null):r.a.createElement(S,null),s=a.isCommitteeMember?r.a.createElement(x,{showUpdateModal:this.openUpdateModal,showDeleteModal:this.openDeleteModal}):null;return r.a.createElement("div",null,r.a.createElement(D.a,null,r.a.createElement(D.a.Header,null,r.a.createElement(T.a.Toggle,{as:I.a,variant:"link",eventKey:this.props.dataKey},this.props.messageData.title),r.a.createElement("span",{className:"priority-icon"},"  ",n," ")),r.a.createElement(T.a.Collapse,{eventKey:this.props.dataKey},r.a.createElement(D.a.Body,null,r.a.createElement("div",null,this.props.messageData.details),r.a.createElement("div",null,"priority: ",this.props.messageData.priority),s))),r.a.createElement(L.a,{show:e,onHide:this.closeUpdateModal,size:"lg"},r.a.createElement(L.a.Header,{closeButton:!0},r.a.createElement(L.a.Title,null,"Message Update")),r.a.createElement(L.a.Body,null,r.a.createElement(O.a,null,r.a.createElement(O.a.Group,{as:U.a,controlId:"formHorizontalTile"},r.a.createElement(O.a.Label,{column:!0,sm:2},"Title"),r.a.createElement(k.a,{sm:10},r.a.createElement(O.a.Control,{ref:this.titleInput,type:"text",placeholder:"Title",defaultValue:this.props.messageData.title}))),r.a.createElement(O.a.Group,{as:U.a,controlId:"formHorizontalDetails"},r.a.createElement(O.a.Label,{column:!0,sm:2},"Details"),r.a.createElement(k.a,{sm:10},r.a.createElement(O.a.Control,{as:"textarea",rows:"3",ref:this.detailsInput,type:"text",placeholder:"Details",defaultValue:this.props.messageData.details}))),r.a.createElement(O.a.Group,{as:U.a,controlId:"formHorizontalPriority"},r.a.createElement(O.a.Label,{column:!0,sm:2},"Priority"),r.a.createElement(k.a,{sm:10},r.a.createElement(O.a.Check,{ref:this.infoInput,inline:!0,type:"radio",label:"info",name:"formHorizontalRadios",id:"formHorizontalInfo"}),r.a.createElement(O.a.Check,{ref:this.importantInput,inline:!0,type:"radio",label:"important",name:"formHorizontalRadios",id:"formHorizontalImportant"}))))),r.a.createElement(L.a.Footer,null,r.a.createElement(I.a,{variant:"secondary",onClick:this.closeUpdateModal},"Close"),r.a.createElement(I.a,{variant:"primary",onClick:this.updateMessage},"Update Message"))),r.a.createElement(L.a,{show:t,onHide:this.closeDeleteModal},r.a.createElement(L.a.Header,{closeButton:!0},r.a.createElement(L.a.Title,null,"Delete Message")),r.a.createElement(L.a.Body,null,r.a.createElement("p",null,"Are you sure?")),r.a.createElement(L.a.Footer,null,r.a.createElement(I.a,{variant:"secondary",onClick:this.closeDeleteModal},"Cancel"),r.a.createElement(I.a,{variant:"danger",onClick:this.deleteMessage},"Yes"))))}}]),t}(r.a.Component),R=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={index:0},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.messages.map((function(t,a){return r.a.createElement(N,{dataKey:a,messageData:t,deleteMessage:e.props.deleteMessage,updateMessage:e.props.updateMessage,activeUser:e.props.activeUser})}));return r.a.createElement("div",null,r.a.createElement(T.a,{defaultActiveKey:"0"},t))}}]),t}(r.a.Component),z=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={showModal:!1,index:0,filterText:"",priorityFilter:"all",sortBy:"date"},a.titleInput=r.a.createRef(),a.detailsInput=r.a.createRef(),a.priorityInput=r.a.createRef(),a.imgInput=r.a.createRef(),a.openModal=a.openModal.bind(Object(d.a)(a)),a.closeModal=a.closeModal.bind(Object(d.a)(a)),a.createMessage=a.createMessage.bind(Object(d.a)(a)),a.filterSearch=a.filterSearch.bind(Object(d.a)(a)),a.filterPriority=a.filterPriority.bind(Object(d.a)(a)),a.changeSort=a.changeSort.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"openModal",value:function(){this.setState({showModal:!0})}},{key:"closeModal",value:function(){this.setState({showModal:!1})}},{key:"createMessage",value:function(){var e;e=this.priorityInput.current.checked?"info":"important";var t={title:this.titleInput.current.value,details:this.detailsInput.current.value,priority:e,createdAt:new Date};this.props.createMessage(t),this.closeModal()}},{key:"filterSearch",value:function(e){var t=e.target.value;this.setState({filterText:t})}},{key:"filterPriority",value:function(e){var t=e.target.value;this.setState({priorityFilter:t})}},{key:"changeSort",value:function(e){var t=e.target.id;this.setState({sortBy:t})}},{key:"render",value:function(){if(!this.props.activeUser)return r.a.createElement(h.a,{to:"/"});var e=this.state.showModal,t=this.props,a=t.activeUser,n=t.handleLogout,s=this.state.filterText.toLowerCase(),l=this.state.priorityFilter,o=[];"date"===this.state.sortBy?this.props.messages.sort((function(e,t){return Date.parse(t.createdAt)-Date.parse(e.createdAt)})):"priority"===this.state.sortBy&&this.props.messages.sort((function(e,t){return Date.parse(t.createdAt)-Date.parse(e.createdAt)})).sort((function(e,t){return"info"===t.priority&&"important"===e.priority?-1:"info"===e.priority&&"important"===t.priority?1:0}));for(var i=0;i<this.props.messages.length;i++)""!==s&&!this.props.messages[i].title.toLowerCase().includes(s)&&!this.props.messages[i].details.toLowerCase().includes(s)||"all"!==l&&this.props.messages[i].priority!==l||o.push(this.props.messages[i]);return r.a.createElement("div",null,r.a.createElement(y,{activeUser:a,handleLogout:n}),r.a.createElement(f.a,null,r.a.createElement("h1",null,"Messages"),r.a.createElement(O.a,null,r.a.createElement(O.a.Group,{as:U.a,controlId:"formFitler"},r.a.createElement(k.a,{sm:7},r.a.createElement(O.a.Control,{inline:!0,onChange:this.filterSearch,className:"rounded-pill",type:"text",placeholder:"Filter by Text in Title and Details"})),r.a.createElement(k.a,{sm:2},r.a.createElement(O.a.Control,{as:"select",onChange:this.filterPriority},r.a.createElement("option",{value:"all"},"All Messages"),r.a.createElement("option",{value:"info"},"Filter as info"),r.a.createElement("option",{value:"important"},"Filter as important"))),r.a.createElement(O.a.Label,{column:!0,sm:1},"Sort by:"),r.a.createElement(k.a,{sm:2},r.a.createElement(O.a.Check,{onChange:this.changeSort,ref:this.dateInput,defaultChecked:!0,inline:!0,type:"radio",label:"Date",name:"formHorizontalRadios",id:"date"}),r.a.createElement(O.a.Check,{onChange:this.changeSort,inline:!0,type:"radio",label:"Priority",name:"formHorizontalRadios",id:"priority"})))),r.a.createElement(f.a,{className:"d-flex"},r.a.createElement(I.a,{className:"ml-auto",variant:"link",onClick:this.openModal},"New Message")),r.a.createElement(R,{messages:o,deleteMessage:this.props.deleteMessage,updateMessage:this.props.updateMessage,activeUser:this.props.activeUser})),r.a.createElement(L.a,{show:e,onHide:this.closeModal,size:"lg"},r.a.createElement(L.a.Header,{closeButton:!0},r.a.createElement(L.a.Title,null,"New Message")),r.a.createElement(L.a.Body,null,r.a.createElement(O.a,null,r.a.createElement(O.a.Group,{as:U.a,controlId:"formHorizontalTile"},r.a.createElement(O.a.Label,{column:!0,sm:2},"Title"),r.a.createElement(k.a,{sm:10},r.a.createElement(O.a.Control,{ref:this.titleInput,type:"text",placeholder:"Title"}))),r.a.createElement(O.a.Group,{as:U.a,controlId:"formHorizontalDetails"},r.a.createElement(O.a.Label,{column:!0,sm:2},"Details"),r.a.createElement(k.a,{sm:10},r.a.createElement(O.a.Control,{as:"textarea",rows:"3",ref:this.detailsInput,type:"text",placeholder:"Details"}))),r.a.createElement(O.a.Group,{as:U.a,controlId:"formHorizontalPriority"},r.a.createElement(O.a.Label,{column:!0,sm:2},"Priority"),r.a.createElement(k.a,{sm:10},r.a.createElement(O.a.Check,{ref:this.priorityInput,defaultChecked:!0,inline:!0,type:"radio",label:"info",name:"formHorizontalRadios",id:"formHorizontalInfo"}),r.a.createElement(O.a.Check,{inline:!0,type:"radio",label:"important",name:"formHorizontalRadios",id:"formHorizontalImportant"}))))),r.a.createElement(L.a.Footer,null,r.a.createElement(I.a,{variant:"secondary",onClick:this.closeModal},"Close"),r.a.createElement(I.a,{variant:"primary",onClick:this.createMessage},"Add Message"))))}}]),t}(r.a.Component),A=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.activeUser,a=e.handleLogout;return console.log(t),r.a.createElement("div",null,r.a.createElement(y,{activeUser:t,handleLogout:a}),r.a.createElement("h1",null,"Dashboard"))}}]),t}(r.a.Component),G=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(I.a,{onClick:this.props.showDeleteModal,variant:"danger"},"Delete Tenant"),r.a.createElement(I.a,{onClick:this.props.showUpdateModal,variant:"primary"},"Update Tenant"))}}]),t}(r.a.Component),B=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={showUpdateModal:!1,showDeleteModal:!1},a.deleteTenant=a.deleteTenant.bind(Object(d.a)(a)),a.updateTenant=a.updateTenant.bind(Object(d.a)(a)),a.openUpdateModal=a.openUpdateModal.bind(Object(d.a)(a)),a.closeUpdateModal=a.closeUpdateModal.bind(Object(d.a)(a)),a.openDeleteModal=a.openDeleteModal.bind(Object(d.a)(a)),a.closeDeleteModal=a.closeDeleteModal.bind(Object(d.a)(a)),a.nameInput=r.a.createRef(),a.emailInput=r.a.createRef(),a.passwordInput=r.a.createRef(),a.apartmentInput=r.a.createRef(),a.imgInput=r.a.createRef(),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"deleteTenant",value:function(){this.props.deleteTenant(this.props.tenantData,this.props.dataKey),this.closeDeleteModal()}},{key:"updateTenant",value:function(){this.props.tenantData.name=this.nameInput.current.value,this.props.tenantData.email=this.emailInput.current.value,this.props.tenantData.password=this.passwordInput.current.value,this.props.tenantData.apartment=this.apartmentInput.current.value,this.props.updateTenant(this.props.tenantData,this.props.dataKey),this.closeUpdateModal()}},{key:"openUpdateModal",value:function(){this.setState({showUpdateModal:!0})}},{key:"closeUpdateModal",value:function(){this.setState({showUpdateModal:!1})}},{key:"openDeleteModal",value:function(){this.setState({showDeleteModal:!0})}},{key:"closeDeleteModal",value:function(){this.setState({showDeleteModal:!1})}},{key:"render",value:function(){var e=this.state.showUpdateModal,t=this.state.showDeleteModal,a=this.props.activeUser.isCommitteeMember?r.a.createElement(G,{showUpdateModal:this.openUpdateModal,showDeleteModal:this.openDeleteModal}):null;return r.a.createElement("div",null,r.a.createElement(D.a,null,r.a.createElement(D.a.Header,null,r.a.createElement(T.a.Toggle,{as:I.a,variant:"link",eventKey:this.props.dataKey},this.props.tenantData.name)),r.a.createElement(T.a.Collapse,{eventKey:this.props.dataKey},r.a.createElement(D.a.Body,null,r.a.createElement("div",null,"email: ",this.props.tenantData.email),r.a.createElement("div",null,"Apartment: ",this.props.tenantData.apartment),a))),r.a.createElement(L.a,{show:e,onHide:this.closeUpdateModal,size:"lg"},r.a.createElement(L.a.Header,{closeButton:!0},r.a.createElement(L.a.Title,null,"Tenant Update")),r.a.createElement(L.a.Body,null,r.a.createElement(O.a,null,r.a.createElement(O.a.Group,{as:U.a,controlId:"formHorizontalName"},r.a.createElement(O.a.Label,{column:!0,sm:2},"Name"),r.a.createElement(k.a,{sm:10},r.a.createElement(O.a.Control,{ref:this.nameInput,type:"text",placeholder:"Name",defaultValue:this.props.tenantData.name}))),r.a.createElement(O.a.Group,{as:U.a,controlId:"formHorizontalEmail"},r.a.createElement(O.a.Label,{column:!0,sm:2},"E-Mail"),r.a.createElement(k.a,{sm:10},r.a.createElement(O.a.Control,{ref:this.emailInput,type:"email",placeholder:"E-Mail",defaultValue:this.props.tenantData.email}))),r.a.createElement(O.a.Group,{as:U.a,controlId:"formHorizontalPassword"},r.a.createElement(O.a.Label,{column:!0,sm:2},"Password"),r.a.createElement(k.a,{sm:10},r.a.createElement(O.a.Control,{ref:this.passwordInput,type:"password",placeholder:"Password",defaultValue:this.props.tenantData.password}))),r.a.createElement(O.a.Group,{as:U.a,controlId:"formHorizontalApartment"},r.a.createElement(O.a.Label,{column:!0,sm:2},"Apartment Number"),r.a.createElement(k.a,{sm:10},r.a.createElement(O.a.Control,{ref:this.apartmentInput,type:"text",placeholder:"Apartment Number",defaultValue:this.props.tenantData.apartment}))))),r.a.createElement(L.a.Footer,null,r.a.createElement(I.a,{variant:"secondary",onClick:this.closeUpdateModal},"Close"),r.a.createElement(I.a,{variant:"primary",onClick:this.updateTenant},"Update Tenant"))),r.a.createElement(L.a,{show:t,onHide:this.closeDeleteModal},r.a.createElement(L.a.Header,{closeButton:!0},r.a.createElement(L.a.Title,null,"Delete Tenant")),r.a.createElement(L.a.Body,null,r.a.createElement("p",null,"Are you sure?")),r.a.createElement(L.a.Footer,null,r.a.createElement(I.a,{variant:"secondary",onClick:this.closeDeleteModal},"Cancel"),r.a.createElement(I.a,{variant:"danger",onClick:this.deleteTenant},"Yes"))))}}]),t}(r.a.Component),P=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={index:0},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.tenants,n=t.activeUser,s=a.map((function(t,a){return r.a.createElement(B,{dataKey:a,tenantData:t,deleteTenant:e.props.deleteTenant,updateTenant:e.props.updateTenant,activeUser:n})}));return r.a.createElement("div",null,r.a.createElement(T.a,{defaultActiveKey:"0"},s))}}]),t}(r.a.Component),K=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={showModal:!1,index:0,filterText:""},a.nameInput=r.a.createRef(),a.emailInput=r.a.createRef(),a.passwordInput=r.a.createRef(),a.apartmentInput=r.a.createRef(),a.imgInput=r.a.createRef(),a.openModal=a.openModal.bind(Object(d.a)(a)),a.closeModal=a.closeModal.bind(Object(d.a)(a)),a.createTenant=a.createTenant.bind(Object(d.a)(a)),a.filterSearch=a.filterSearch.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"openModal",value:function(){this.setState({showModal:!0})}},{key:"closeModal",value:function(){this.setState({showModal:!1})}},{key:"createTenant",value:function(){var e={name:this.nameInput.current.value,email:this.emailInput.current.value,password:this.passwordInput.current.value,apartment:this.apartmentInput.current.value};this.props.createTenant(e),this.closeModal()}},{key:"filterSearch",value:function(e){var t=e.target.value;this.setState({filterText:t})}},{key:"render",value:function(){if(!this.props.activeUser)return r.a.createElement(h.a,{to:"/"});for(var e=this.state.showModal,t=this.props,a=t.activeUser,n=t.handleLogout,s=this.state.filterText.toLowerCase(),l=[],o=0;o<this.props.tenants.length;o++)(""===s||this.props.tenants[o].name.toLowerCase().includes(s)||this.props.tenants[o].email.toLowerCase().includes(s)||this.props.tenants[o].apartment.toString().toLowerCase().includes(s))&&l.push(this.props.tenants[o]);return r.a.createElement("div",null,r.a.createElement(y,{activeUser:a,handleLogout:n}),r.a.createElement(f.a,null,r.a.createElement("h1",null,"Tenants"),r.a.createElement(O.a,null,r.a.createElement(O.a.Group,{as:U.a,controlId:"formFitler"},r.a.createElement(k.a,{sm:12},r.a.createElement(O.a.Control,{inline:!0,onChange:this.filterSearch,className:"rounded-pill",type:"text",placeholder:"Filter by Name, E-Mail and Apartment"})))),r.a.createElement(f.a,{className:"d-flex"},r.a.createElement(I.a,{className:"ml-auto",variant:"link",onClick:this.openModal},"New Tenant")),r.a.createElement(P,{tenants:l,deleteTenant:this.props.deleteTenant,updateTenant:this.props.updateTenant,activeUser:a})),r.a.createElement(L.a,{show:e,onHide:this.closeModal,size:"lg"},r.a.createElement(L.a.Header,{closeButton:!0},r.a.createElement(L.a.Title,null,"New Tenant")),r.a.createElement(L.a.Body,null,r.a.createElement(O.a,null,r.a.createElement(O.a.Group,{as:U.a,controlId:"formHorizontalName"},r.a.createElement(O.a.Label,{column:!0,sm:2},"Name"),r.a.createElement(k.a,{sm:10},r.a.createElement(O.a.Control,{ref:this.nameInput,type:"text",placeholder:"Name"}))),r.a.createElement(O.a.Group,{as:U.a,controlId:"formHorizontalEmail"},r.a.createElement(O.a.Label,{column:!0,sm:2},"E-Mail"),r.a.createElement(k.a,{sm:10},r.a.createElement(O.a.Control,{ref:this.emailInput,type:"email",placeholder:"E-Mail"}))),r.a.createElement(O.a.Group,{as:U.a,controlId:"formHorizontalPassword"},r.a.createElement(O.a.Label,{column:!0,sm:2},"Password"),r.a.createElement(k.a,{sm:10},r.a.createElement(O.a.Control,{ref:this.passwordInput,type:"password",placeholder:"Password"}))),r.a.createElement(O.a.Group,{as:U.a,controlId:"formHorizontalApartment"},r.a.createElement(O.a.Label,{column:!0,sm:2},"Apartment Number"),r.a.createElement(k.a,{sm:10},r.a.createElement(O.a.Control,{ref:this.apartmentInput,type:"text",placeholder:"Apartment Number"}))))),r.a.createElement(L.a.Footer,null,r.a.createElement(I.a,{variant:"secondary",onClick:this.closeModal},"Close"),r.a.createElement(I.a,{variant:"primary",onClick:this.createTenant},"Add Tenant"))))}}]),t}(r.a.Component),F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.activeUser,a=e.handleLogout;return r.a.createElement("div",null,r.a.createElement(y,{activeUser:t,handleLogout:a}),r.a.createElement("h1",null,"Issues"))}}]),t}(r.a.Component),V=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.activeUser,a=e.handleLogout;return r.a.createElement("div",null,r.a.createElement(y,{activeUser:t,handleLogout:a}),r.a.createElement("h1",null,"Voting"))}}]),t}(r.a.Component),J=a(66),W=a(67),Y=a(68),$=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={index:0,activeUser:null,allUsers:W,allMessages:J,allCommunities:Y,activeUserMessages:[],activeUserTenants:[]},a.createCommitteeMember=a.createCommitteeMember.bind(Object(d.a)(a)),a.createMessage=a.createMessage.bind(Object(d.a)(a)),a.deleteMessage=a.deleteMessage.bind(Object(d.a)(a)),a.updateMessage=a.updateMessage.bind(Object(d.a)(a)),a.createTenant=a.createTenant.bind(Object(d.a)(a)),a.deleteTenant=a.deleteTenant.bind(Object(d.a)(a)),a.updateTenant=a.updateTenant.bind(Object(d.a)(a)),a.handleLogout=a.handleLogout.bind(Object(d.a)(a)),a.handleLogin=a.handleLogin.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"createMessage",value:function(e){e.communityId=this.state.activeUser.communityId,e.id=this.state.allMessages[this.state.allMessages.length-1].id+1;var t=this.state.allMessages.concat(e),a=this.state.activeUserMessages.concat(e);this.setState({allMessages:t,activeUserMessages:a})}},{key:"createTenant",value:function(e){e.communityId=this.state.activeUser.communityId,e.id=this.state.allUsers[this.state.allUsers.length-1].id+1;var t=this.state.allUsers.concat(e),a=this.state.activeUserTenants.concat(e);this.setState({allUsers:t,activeUserTenants:a})}},{key:"createCommitteeMember",value:function(e,t){e.id=this.state.allCommunities[this.state.allCommunities.length-1].id+1,t.id=this.state.allUsers[this.state.allUsers.length-1].id+1,t.communityId=e.id;var a=this.state.allCommunities.concat(e),n=this.state.activeUserTenants.concat(t),r=this.state.allUsers.concat(t);this.setState({allCommunities:a,allUsers:r,activeUserTenants:n})}},{key:"deleteMessage",value:function(e,t){this.state.activeUserMessages.splice(t,1);for(var a=0;a<this.state.allMessages.length;a++)if(this.state.allMessages[a].id===e.id){this.state.allMessages.splice(a,1);break}this.setState(this.state)}},{key:"updateMessage",value:function(e,t){this.state.activeUserMessages[t]=e;for(var a=0;a<this.state.allMessages.length;a++)if(this.state.allMessages[a].id===e.id){this.state.allMessages[a]=this.updatedMessage;break}this.setState(this.state)}},{key:"deleteTenant",value:function(e,t){this.state.activeUserTenants.splice(t,1);for(var a=0;a<this.state.allUsers.length;a++)if(this.state.allUsers[a].id===e.id){this.state.allUsers.splice(a,1);break}this.setState(this.state)}},{key:"updateTenant",value:function(e,t){this.state.activeUserTenants[t]=e;for(var a=0;a<this.state.allUsers.length;a++)if(this.state.allUsers[a].id===this.updatedTenant.id){this.state.allUsers[a]=this.updatedTenant;break}this.setState(this.state)}},{key:"handleLogout",value:function(){this.setState({activeUser:null})}},{key:"handleLogin",value:function(e){var t=this.state.allMessages.filter((function(t){return t.communityId===e.communityId})),a=this.state.allUsers.filter((function(t){return t.communityId===e.communityId}));this.setState({activeUser:e,activeUserMessages:t,activeUserTenants:a})}},{key:"render",value:function(){var e=this.state,t=e.activeUser,a=e.allUsers,n=e.activeUserMessages,s=e.activeUserTenants,l=e.allCommunities;return r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/"},r.a.createElement(M,{activeUser:t,handleLogout:this.handleLogout})),r.a.createElement(h.b,{path:"/login"},r.a.createElement(C,{users:a,handleLogin:this.handleLogin,activeUser:t})),r.a.createElement(h.b,{path:"/signup"},r.a.createElement(w,{activeUser:t,handleLogout:this.handleLogout,user:a,communities:l,createCommitteeMember:this.createCommitteeMember,handleLogin:this.handleLogin})),r.a.createElement(h.b,{path:"/dashboard"},r.a.createElement(A,{activeUser:t,handleLogout:this.handleLogout})),r.a.createElement(h.b,{path:"/tenants"},r.a.createElement(K,{tenants:s,deleteTenant:this.deleteTenant,updateTenant:this.updateTenant,createTenant:this.createTenant,activeUser:t,handleLogout:this.handleLogout})),r.a.createElement(h.b,{path:"/messages"},r.a.createElement(z,{messages:n,deleteMessage:this.deleteMessage,updateMessage:this.updateMessage,createMessage:this.createMessage,activeUser:t,handleLogout:this.handleLogout})),r.a.createElement(h.b,{path:"/issues"},r.a.createElement(F,{activeUser:t,handleLogout:this.handleLogout})),r.a.createElement(h.b,{path:"/voting"},r.a.createElement(V,{activeUser:t,handleLogout:this.handleLogout})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(o.a,null,r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[69,1,2]]]);
//# sourceMappingURL=main.d3c3fa3a.chunk.js.map